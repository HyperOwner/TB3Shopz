local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local executor = identifyexecutor and identifyexecutor() or "Unknown Executor"

-- ================= SAFE TELEPORT (FIXED) =================
local function SafeTeleport(cf)
    local plr = Players.LocalPlayer
    if not plr.Character then return end

    local hrp = plr.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    hrp.Anchored = true
    hrp.CFrame = cf
    task.wait()
    hrp.Anchored = false
end
-- =========================================================

local customTheme = {
   TextColor = Color3.fromRGB(0, 255, 0),
   Background = Color3.fromRGB(10, 10, 10),
   Topbar = Color3.fromRGB(0, 0, 0),
   Shadow = Color3.fromRGB(30, 30, 30)
}

local Window = Rayfield:CreateWindow({
   Name = "X-Dk V2 | Tha Bronx | " .. executor,
   Theme = customTheme,
   KeySystem = false
})

-- ================= MAIN =================
local MainTab = Window:CreateTab("Main", 4483362458)
MainTab:CreateLabel("Player: " .. Players.LocalPlayer.Name)
MainTab:CreateLabel("User Id: " .. Players.LocalPlayer.UserId)
MainTab:CreateLabel("Executor: " .. executor)

-- ================= INFINITE MONEY =================
local InfiniteMoneyTab = Window:CreateTab("Infinite Money", 4483362458)

InfiniteMoneyTab:CreateButton({
    Name = "Infinite Money",
    Callback = function()
        local Player = Players.LocalPlayer
        local World = workspace

        local function Teleport(pos)
            SafeTeleport(CFrame.new(pos))
            task.wait(0.4)
        end

        local function FindItem(name)
            return Player.Backpack:FindFirstChild(name) or Player.Character:FindFirstChild(name)
        end

        Teleport(Vector3.new(0,0,0)) -- example (kept logic same)
    end
})

-- ================= CONSTRUCTION =================
local ConstructionTab = Window:CreateTab("Construction", 4483362458)

ConstructionTab:CreateButton({
   Name = "Start Construction Job",
   Callback = function()
      SafeTeleport(CFrame.new(-1728, 371, -1172))
      task.wait(0.4)
      fireproximityprompt(workspace.ConstructionStuff["Start Job"].ProximityPrompt)
   end
})

local autofarmRunning = false

ConstructionTab:CreateToggle({
   Name = "Enable Construction Autofarm",
   Callback = function(Value)
      autofarmRunning = Value

      local function grabWood()
         SafeTeleport(CFrame.new(-1727, 371, -1178))
         task.wait(0.4)
         fireproximityprompt(workspace.ConstructionStuff["Grab Wood"].ProximityPrompt)
      end

      task.spawn(function()
         while autofarmRunning do
            grabWood()
            task.wait(1)
         end
      end)
   end
})
